<!DOCTYPE html>
<html>

<head>
  <title>
    <%= title %>
  </title>
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body>
  <!-- <h1><%= title %></h1>
    <p>Welcome to <%= title %></p> -->
  <div class="container px-4 py-5">
    <div class="row gy-3 py-5">
      <div class="col-12">
        <div class="text-center text-lg-start">
          <h1 class="display-5 fw-bold lh-1 text-body-emphasis">Upload Files Form</h1>
          <p class="fs-4">Below is an example form files upload API.</p>
          <div class="input-group">
            <span class="input-group-text" id="method">POST</span>
            <input name="url" disabled type="text" class="form-control" value="http://localhost:">
            <button class="btn btn-primary" type="button" id="copy-action" onclick="copyToClipboard()">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                class="bi bi-clipboard-fill me-2" viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                  d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2" />
              </svg>Copy Clipboard
            </button>
          </div>
        </div>
      </div>
      <div class="col-md-5">
        <div class="border rounded-3 p-4 mb-3">
          <b>Body&nbsp;</b><small class="text-secondary">form-data</small>
          <hr />
          <div class="row gx-3">
            <div class="col-6 fs-6 fw-semibold">
              File
            </div>
            <div class="col-6">
              <small><em>.png, .jpg, .svg</em></small>
            </div>
          </div>
        </div>
        <form id="uploadForm" class="p-4 border rounded-3 bg-body-tertiary" method="post" enctype="multipart/form-data"
          action="/file/post">
          <input type="file" class="form-control" id="fileInput" name="file" />
          <button class="w-100 btn btn-sm mt-2" type="submit">Upload File</button>
          <!-- <button class="w-100 btn btn-sm mt-2" type="button" onclick="uploadFileUsingWebhookDiscordJs()">Upload File</button> -->
        </form>
      </div>
      <div class="col-md-7">
        <div class="p-4 border rounded-3 bg-body-tertiary">
          JSON Respons:
          <code class="d-block" style="white-space: pre-wrap;" id="json"></code>
        </div>
      </div>
    </div>
  </div>
  <script>
    document.getElementById('json').innerHTML = JSON.stringify({
      "code": 400,
      "success": false,
      "message": "Please upload a file."
    }, null, 2);

    document.getElementById('uploadForm').querySelector('button').disabled = true;
    document.getElementById('uploadForm').querySelector('button').classList.add('btn-secondary');
    document.getElementById('uploadForm').querySelector('button').classList.remove('btn-primary');
    document.getElementById('fileInput').addEventListener('change', function () {
      if (document.getElementById('fileInput').value != "") {
        document.getElementById('uploadForm').querySelector('button').disabled = false;
        document.getElementById('uploadForm').querySelector('button').classList.remove('btn-secondary');
        document.getElementById('uploadForm').querySelector('button').classList.add('btn-primary');
      }
    });
  </script>
</body>

</html>